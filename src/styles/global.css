/* Import Angular Material theme */
@import './material-theme.scss';

/* Material Design 3 CSS Variables */
:root {
  /* Material Design 3 Colors - Light Theme (Default) */
  --color-md-primary: rgb(var(--md-sys-color-primary));
  --color-md-on-primary: rgb(var(--md-sys-color-on-primary));
  --color-md-primary-container: rgb(var(--md-sys-color-primary-container));
  --color-md-on-primary-container: rgb(var(--md-sys-color-on-primary-container));

  --color-md-secondary: rgb(var(--md-sys-color-secondary));
  --color-md-on-secondary: rgb(var(--md-sys-color-on-secondary));
  --color-md-secondary-container: rgb(var(--md-sys-color-secondary-container));
  --color-md-on-secondary-container: rgb(var(--md-sys-color-on-secondary-container));

  --color-md-tertiary: rgb(var(--md-sys-color-tertiary));
  --color-md-on-tertiary: rgb(var(--md-sys-color-on-tertiary));
  --color-md-tertiary-container: rgb(var(--md-sys-color-tertiary-container));
  --color-md-on-tertiary-container: rgb(var(--md-sys-color-on-tertiary-container));

  --color-md-error: rgb(var(--md-sys-color-error));
  --color-md-on-error: rgb(var(--md-sys-color-on-error));
  --color-md-error-container: rgb(var(--md-sys-color-error-container));
  --color-md-on-error-container: rgb(var(--md-sys-color-on-error-container));

  --color-md-surface: rgb(var(--md-sys-color-surface));
  --color-md-on-surface: rgb(var(--md-sys-color-on-surface));
  --color-md-surface-variant: rgb(var(--md-sys-color-surface-variant));
  --color-md-on-surface-variant: rgb(var(--md-sys-color-on-surface-variant));
  --color-md-surface-tint: rgb(var(--md-sys-color-surface-tint));

  --color-md-background: rgb(var(--md-sys-color-background));
  --color-md-on-background: rgb(var(--md-sys-color-on-background));

  --color-md-outline: rgb(var(--md-sys-color-outline));
  --color-md-outline-variant: rgb(var(--md-sys-color-outline-variant));

  --color-md-inverse-surface: rgb(var(--md-sys-color-inverse-surface));
  --color-md-inverse-on-surface: rgb(var(--md-sys-color-inverse-on-surface));
  --color-md-inverse-primary: rgb(var(--md-sys-color-inverse-primary));

  /* Material Design 3 Shapes */
  --md-shape-corner-small: 8px;
  --md-shape-corner-medium: 12px;
  --md-shape-corner-large: 16px;
  --md-shape-corner-extra-large: 28px;
  --md-shape-corner-full: 9999px;

  /* Material Design 3 Typography */
  --md-font-family: 'Maple Mono NF CN', 'Maple Mono', 'Fira Code', 'Source Code Pro', monospace;

  /* Material Design 3 Motion */
  --md-motion-easing-standard: cubic-bezier(0.2, 0, 0, 1);
  --md-motion-easing-emphasized: cubic-bezier(0.2, 0, 0, 1);
  --md-motion-duration-short: 200ms;
  --md-motion-duration-medium: 400ms;
  --md-motion-duration-long: 500ms;
}

/* Reset and Base Styles */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

/* Remove focus outlines for mouse users, keep for keyboard users */
* {
  outline: none;
}

*:focus-visible {
  outline: 2px solid var(--color-md-primary);
  outline-offset: 2px;
}

/* Remove Angular Material focus indicators */
.mat-mdc-focus-indicator::before,
.mat-focus-indicator::before {
  display: none !important;
}

/* Remove ripple focus indicators */
.mat-mdc-button-persistent-ripple {
  opacity: 0 !important;
}

/* Remove focus borders from Material components */
.mat-mdc-button:focus,
.mat-mdc-icon-button:focus,
.mat-mdc-fab:focus,
.mat-mdc-mini-fab:focus,
.mat-mdc-menu-item:focus,
.mat-mdc-chip:focus {
  outline: none !important;
}

/* Only show outline for keyboard focus */
.mat-mdc-button:focus-visible,
.mat-mdc-icon-button:focus-visible,
.mat-mdc-fab:focus-visible,
.mat-mdc-mini-fab:focus-visible {
  outline: 2px solid var(--color-md-primary) !important;
  outline-offset: 2px !important;
}

html {
  font-family: var(--md-font-family);
  scroll-behavior: smooth;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  background-color: var(--color-md-background);
  color: var(--color-md-on-background);
  transition: background-color var(--md-motion-duration-medium) var(--md-motion-easing-standard),
              color var(--md-motion-duration-medium) var(--md-motion-easing-standard);
  line-height: 1.6;
}

/* Dark mode transition overlay */
html::before {
  content: '';
  position: fixed;
  inset: 0;
  background: inherit;
  pointer-events: none;
  opacity: 0;
  z-index: 9999;
  transition: opacity var(--md-motion-duration-medium) var(--md-motion-easing-standard);
}

html.dark::before,
html:not(.light)::before {
  opacity: 0.05;
}

/* Image styles */
img {
  max-width: 100%;
  height: auto;
  display: block;
}

/* Link styles */
a {
  color: var(--color-md-primary);
  text-decoration: none;
  transition: color 0.2s;
}

a:hover {
  color: var(--color-md-primary-container);
}

/* Prose/Content styles */
.prose {
  max-width: 65ch;
  font-size: 1rem;
  line-height: 1.75;
  color: var(--color-md-on-surface);
}

.prose h1,
.prose h2,
.prose h3,
.prose h4,
.prose h5,
.prose h6 {
  color: var(--color-md-on-surface);
  font-weight: 600;
  line-height: 1.25;
  margin-top: 2em;
  margin-bottom: 1em;
}

.prose h1 {
  font-size: 2.25rem;
}

.prose h2 {
  font-size: 1.875rem;
}

.prose h3 {
  font-size: 1.5rem;
}

.prose p {
  margin-bottom: 1.25em;
}

.prose code {
  background-color: rgba(var(--md-sys-color-surface-variant), 0.5);
  padding: 0.125rem 0.25rem;
  border-radius: 4px;
  font-size: 0.875em;
}

.prose pre {
  background-color: rgba(var(--md-sys-color-surface-variant), 0.5);
  padding: 1rem;
  border-radius: 8px;
  overflow-x: auto;
  margin: 1.5em 0;
}

.prose pre code {
  background-color: transparent;
  padding: 0;
}

.prose img {
  border-radius: var(--md-shape-corner-large);
  margin: 2em 0;
  transition: transform var(--md-motion-duration-short) var(--md-motion-easing-standard),
              box-shadow var(--md-motion-duration-short) var(--md-motion-easing-standard);
}

.prose img:hover {
  transform: scale(1.02);
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
}

.prose ul,
.prose ol {
  margin-left: 1.5em;
  margin-bottom: 1.25em;
}

.prose li {
  margin-bottom: 0.5em;
}

.prose blockquote {
  border-left: 4px solid var(--color-md-primary);
  padding-left: 1rem;
  margin: 1.5em 0;
  font-style: italic;
  color: var(--color-md-on-surface-variant);
}

.prose table {
  width: 100%;
  border-collapse: collapse;
  margin: 2em 0;
}

.prose th,
.prose td {
  padding: 0.75rem;
  border: 1px solid var(--color-md-outline-variant);
  text-align: left;
}

.prose th {
  background-color: rgba(var(--md-sys-color-surface-variant), 0.5);
  font-weight: 600;
}

/* Material Design 3 Typography Classes */
.display-large {
  font-size: 57px;
  font-weight: 400;
  line-height: 64px;
  letter-spacing: -0.25px;
}

.display-medium {
  font-size: 45px;
  font-weight: 400;
  line-height: 52px;
  letter-spacing: 0px;
}

.display-small {
  font-size: 36px;
  font-weight: 400;
  line-height: 44px;
  letter-spacing: 0px;
}

.headline-large {
  font-size: 32px;
  font-weight: 400;
  line-height: 40px;
  letter-spacing: 0px;
}

.headline-medium {
  font-size: 28px;
  font-weight: 400;
  line-height: 36px;
  letter-spacing: 0px;
}

.headline-small {
  font-size: 24px;
  font-weight: 400;
  line-height: 32px;
  letter-spacing: 0px;
}

.title-large {
  font-size: 22px;
  font-weight: 500;
  line-height: 28px;
  letter-spacing: 0px;
}

.title-medium {
  font-size: 16px;
  font-weight: 500;
  line-height: 24px;
  letter-spacing: 0.15px;
}

.title-small {
  font-size: 14px;
  font-weight: 500;
  line-height: 20px;
  letter-spacing: 0.1px;
}

.body-large {
  font-size: 16px;
  font-weight: 400;
  line-height: 24px;
  letter-spacing: 0.5px;
}

.body-medium {
  font-size: 14px;
  font-weight: 400;
  line-height: 20px;
  letter-spacing: 0.25px;
}

.body-small {
  font-size: 12px;
  font-weight: 400;
  line-height: 16px;
  letter-spacing: 0.4px;
}

.label-large {
  font-size: 14px;
  font-weight: 500;
  line-height: 20px;
  letter-spacing: 0.1px;
}

.label-medium {
  font-size: 12px;
  font-weight: 500;
  line-height: 16px;
  letter-spacing: 0.5px;
}

.label-small {
  font-size: 11px;
  font-weight: 500;
  line-height: 16px;
  letter-spacing: 0.5px;
}

/* Button Styles */
.btn-filled,
.btn-outlined,
.btn-text {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.625rem 1.5rem;
  border-radius: 20px;
  font-size: 0.875rem;
  font-weight: 500;
  text-decoration: none;
  transition: all 0.2s;
  cursor: pointer;
  border: none;
}

.btn-filled {
  background-color: rgb(var(--md-sys-color-primary));
  color: rgb(var(--md-sys-color-on-primary));
}

.btn-filled:hover {
  background-color: rgb(var(--md-sys-color-primary-container));
  color: rgb(var(--md-sys-color-on-primary-container));
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.btn-outlined {
  background-color: transparent;
  border: 1px solid rgb(var(--md-sys-color-outline));
  color: rgb(var(--md-sys-color-primary));
}

.btn-outlined:hover {
  background-color: rgba(var(--md-sys-color-primary), 0.08);
  border-color: rgb(var(--md-sys-color-primary));
}

.btn-text {
  background-color: transparent;
  color: rgb(var(--md-sys-color-primary));
}

.btn-text:hover {
  background-color: rgba(var(--md-sys-color-primary), 0.08);
}

.btn-filled .material-symbols-outlined,
.btn-outlined .material-symbols-outlined,
.btn-text .material-symbols-outlined {
  font-size: 18px;
  width: 18px;
  height: 18px;
}

/* Utility Classes */
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 1rem;
}

.grid {
  display: grid;
  gap: 1rem;
}

.grid-cols-1 {
  grid-template-columns: repeat(1, minmax(0, 1fr));
}

.grid-cols-2 {
  grid-template-columns: repeat(2, minmax(0, 1fr));
}

.grid-cols-3 {
  grid-template-columns: repeat(3, minmax(0, 1fr));
}

.flex {
  display: flex;
}

.items-center {
  align-items: center;
}

.justify-between {
  justify-content: space-between;
}

.gap-1 {
  gap: 0.25rem;
}

.gap-2 {
  gap: 0.5rem;
}

.gap-4 {
  gap: 1rem;
}

/* Responsive utilities */
@media (min-width: 768px) {
  .md\:grid-cols-2 {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .md\:grid-cols-3 {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}

@media (min-width: 1024px) {
  .lg\:grid-cols-3 {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }

  .lg\:grid-cols-4 {
    grid-template-columns: repeat(4, minmax(0, 1fr));
  }
}
